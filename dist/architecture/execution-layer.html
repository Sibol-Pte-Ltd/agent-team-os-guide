<!DOCTYPE html><!--VA_lAVEn1LekIejhMlH5y--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/56998b7e09014914.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-d282787ed3063711.js"/><script src="/_next/static/chunks/4bd1b696-f785427dddbba9fb.js" async=""></script><script src="/_next/static/chunks/1255-29325acccda77703.js" async=""></script><script src="/_next/static/chunks/main-app-035730848130ded3.js" async=""></script><script src="/_next/static/chunks/app/(authenticated)/layout-8a56e70ab4050a46.js" async=""></script><title>Execution Layer — OpenClaw Architecture</title><meta name="description" content="Your personal AI agent team, working together to keep your life organized."/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body><div hidden=""><!--$--><!--/$--></div><input type="checkbox" id="menu-toggle" class="menu-toggle"/><label for="menu-toggle" class="hamburger" aria-label="Toggle navigation">☰</label><label for="menu-toggle" class="overlay"></label><div class="site-wrapper"><aside class="sidebar"><div class="sidebar-header"><h1>Agent Team OS</h1><div class="subtitle">User Guide</div></div><nav><div class="nav-section"><a class="nav-link" href="/">Home</a></div><div class="nav-section"><div class="nav-section-title">Getting Started</div><a class="nav-link" href="/getting-started">Quick Start</a><a class="nav-link" href="/getting-started/first-day">Your First Day</a><a class="nav-link" href="/getting-started/setup-checklist">Setup Checklist</a></div><div class="nav-section"><div class="nav-section-title">Notes &amp; Sync</div><a class="nav-link" href="/life-os">What is Notes</a><a class="nav-link" href="/life-os/daily-workflow">Daily Workflow</a><a class="nav-link" href="/life-os/templates">Templates</a><a class="nav-link" href="/life-os/logseq-tips">LogSeq Tips</a></div><div class="nav-section"><div class="nav-section-title">Agents</div><a class="nav-link" href="/agents">Meet Your Agents</a><a class="nav-link" href="/agents/ember">Ember</a><a class="nav-link" href="/agents/scout">Scout</a><a class="nav-link" href="/agents/forge">Forge</a><a class="nav-link" href="/agents/architect">Architect</a><a class="nav-link" href="/agents/trust-levels">Trust Levels</a></div><div class="nav-section"><div class="nav-section-title">Cadence</div><a class="nav-link" href="/cadence">Overview</a><a class="nav-link" href="/cadence/morning-report">Morning Report</a><a class="nav-link" href="/cadence/evening-checkin">Evening Check-in</a><a class="nav-link" href="/cadence/weekly-review">Weekly Review</a><a class="nav-link" href="/cadence/monthly-review">Monthly Review</a></div><div class="nav-section"><div class="nav-section-title">OpenClaw Architecture</div><a class="nav-link" href="/architecture">Overview</a><a class="nav-link" href="/architecture/channel-adapters">Channel Adapters</a><a class="nav-link" href="/architecture/gateway">Gateway</a><a class="nav-link" href="/architecture/lane-queue">Lane Queue</a><a class="nav-link" href="/architecture/agent-runner">Agent Runner</a><a class="nav-link active" href="/architecture/execution-layer">Execution Layer</a></div><div class="nav-section"><div class="nav-section-title">Automation</div><a class="nav-link" href="/automation">Overview</a><a class="nav-link" href="/automation/cron-jobs">Cron Jobs</a><a class="nav-link" href="/automation/notifications">Notifications</a></div><div class="nav-section"><div class="nav-section-title">Troubleshooting</div><a class="nav-link" href="/troubleshooting">Common Issues</a><a class="nav-link" href="/troubleshooting/syncthing">Syncthing</a><a class="nav-link" href="/troubleshooting/faq">FAQ</a></div><div class="nav-section"><div class="nav-section-title">Reference</div><a class="nav-link" href="/reference/commands">Commands</a><a class="nav-link" href="/reference/file-locations">File Locations</a><a class="nav-link" href="/reference/glossary">Glossary</a><a class="nav-link" href="/reference/changelog">Changelog</a></div><div class="nav-section"><div class="nav-section-title">Implementation</div><a class="nav-link" href="/implementation">Status</a><a class="nav-link" href="/implementation/gap-analysis">Gap Analysis</a><a class="nav-link" href="/implementation/roadmap">Roadmap</a><a class="nav-link" href="/implementation/activity-log">Activity Log</a><a class="nav-link" href="/implementation/site-improvements">Site Improvements</a><a class="nav-link" href="/implementation/clawvault-analysis">ClawVault Analysis</a></div></nav><div class="sidebar-footer"><button class="nav-link logout-link">⎋ Logout</button></div></aside><main class="main-content"><div class="content-wrapper"><div><div class="breadcrumbs">
          <a href="/">Home</a>
          <span class="separator">/</span>
          <a href="/architecture">Architecture</a>
          <span class="separator">/</span>
          Execution Layer
        </div>

        <h1>Execution Layer</h1>

        <p>The Execution Layer is where intentions become actions. When the Agent Runner's LLM decides to read a file, run a command, search the web, or click a button in a browser, the Execution Layer is what actually carries out that operation. It provides a controlled, sandboxed environment for tool execution and returns structured results back to the Agent Runner for the next reasoning step.</p>

        <p>The Execution Layer is not a single module — it is a collection of tool implementations that share common patterns: input validation, environment control, output capture, error handling, and security gating.</p>

        <h2>Tool Categories</h2>

        <p>OpenClaw's tools fall into several categories, each with its own execution characteristics:</p>

        <h3>File Operations</h3>

        <p>The core coding tools that let agents read, write, and edit files:</p>

        <ul>
          <li><strong>read</strong> — read file contents with offset/limit support for large files; handles both text files and images (images are sent as attachments to the LLM)</li>
          <li><strong>write</strong> — create or overwrite files, automatically creating parent directories</li>
          <li><strong>edit</strong> — surgical text replacement: find an exact string in a file and replace it with new text</li>
        </ul>

        <p>File tools are sandboxed to the agent's workspace directory. Path traversal outside the workspace is blocked. Read operations support pagination for large files — the agent can read a file in chunks rather than loading the entire thing into context.</p>

        <h3>Shell Execution</h3>

        <p>The <code>exec</code> tool runs shell commands and the <code>process</code> tool manages long-running processes:</p>

        <ul>
          <li><strong>exec</strong> — execute a shell command with configurable timeout, working directory, environment variables, and background mode. Supports PTY mode for interactive terminal applications.</li>
          <li><strong>process</strong> — manage background processes: list active sessions, poll for output, write stdin, send keystrokes, kill processes. Essential for long-running development servers, test suites, and interactive CLIs.</li>
        </ul>

        <p>Shell execution includes several safety mechanisms:</p>

        <ul>
          <li><strong>Security modes</strong> — <code>deny</code> (no exec), <code>allowlist</code> (only pre-approved commands), or <code>full</code> (unrestricted)</li>
          <li><strong>Exec approval</strong> — commands can require human approval before execution, with a configurable timeout</li>
          <li><strong>Ask mode</strong> — the agent can be configured to ask the user before running potentially destructive commands</li>
          <li><strong>Path sanitization</strong> — PATH is controlled and safe binaries are resolved explicitly</li>
          <li><strong>Output truncation</strong> — command output is truncated to a configurable maximum to prevent context overflow</li>
          <li><strong>Timeout enforcement</strong> — commands are killed after their timeout expires</li>
        </ul>

        <h3>Browser Automation</h3>

        <p>The browser tool provides full web automation capabilities via Playwright:</p>

        <ul>
          <li><strong>Navigation</strong> — open URLs, navigate between pages</li>
          <li><strong>Snapshots</strong> — capture the accessibility tree (structured page content) for the LLM to reason about</li>
          <li><strong>Screenshots</strong> — capture visual screenshots when the accessibility tree is insufficient</li>
          <li><strong>Actions</strong> — click elements, type text, press keys, hover, drag, select options, fill forms</li>
          <li><strong>Tabs</strong> — open, close, switch between, and list browser tabs</li>
          <li><strong>PDF generation</strong> — convert pages to PDF</li>
          <li><strong>Console access</strong> — read browser console output for debugging</li>
        </ul>

        <p>The browser can run in multiple profiles — an isolated OpenClaw-managed browser, or via Chrome Extension relay that connects to the user's existing Chrome tabs. Browser sessions persist across tool calls within a run, so the agent can navigate, interact, and observe across multiple steps.</p>

        <h3>Web Operations</h3>

        <ul>
          <li><strong>web_search</strong> — search the web using Brave Search API, returning titles, URLs, and snippets</li>
          <li><strong>web_fetch</strong> — fetch and extract readable content from a URL, converting HTML to markdown</li>
        </ul>

        <h3>Messaging &amp; Channel Tools</h3>

        <ul>
          <li><strong>message</strong> — send messages, manage channels, create threads, upload emoji, manage polls, and perform other channel operations on the current platform</li>
          <li><strong>tts</strong> — convert text to speech for voice message delivery</li>
        </ul>

        <h3>System &amp; Agent Tools</h3>

        <ul>
          <li><strong>OpenClaw tools</strong> — session management, subagent spawning, agent coordination, Gateway control</li>
          <li><strong>Node tools</strong> — interact with paired mobile devices: camera, location, notifications, screen recording</li>
          <li><strong>Canvas tools</strong> — present visual content to users via rendered HTML/React canvases</li>
          <li><strong>Memory tools</strong> — <code>memory_search</code> and <code>memory_get</code> for semantic search and retrieval from the agent's long-term memory files. Powered by <code>embeddinggemma-300m-qat-Q8_0</code> with per-agent SQLite indexes, auto-reindexed every 6 hours via cron.</li>
          <li><strong>Image analysis</strong> — analyze images using a vision model</li>
        </ul>

        <h2>Sandbox Architecture</h2>

        <p>For enhanced isolation, OpenClaw supports running tool execution inside Docker containers (sandboxes). The sandbox system provides:</p>

        <ul>
          <li><strong>Workspace mounting</strong> — the agent's workspace directory is mounted into the container, so file operations work as expected</li>
          <li><strong>Network isolation</strong> — sandboxed commands can be restricted from network access</li>
          <li><strong>Resource limits</strong> — CPU, memory, and disk usage can be constrained</li>
          <li><strong>Disposability</strong> — containers can be pruned and recreated without affecting the host system</li>
          <li><strong>Browser sandboxing</strong> — browser automation can run in a separate container with its own display server</li>
        </ul>

        <p>Sandbox configuration is per-agent: one agent might run fully sandboxed while another runs directly on the host, depending on the trust level and use case.</p>

        <h2 id="tool-policy">Tool Policy &amp; Filtering</h2>

        <p>Not every tool is available to every agent in every context. The Execution Layer applies policy-based filtering:</p>

        <ul>
          <li><strong>Tool allowlists</strong> — agents can be restricted to a specific set of tools</li>
          <li><strong>Owner-only tools</strong> — certain tools (like Gateway management) are restricted to the system owner</li>
          <li><strong>Subagent policies</strong> — spawned subagents can inherit or override the parent's tool policy</li>
          <li><strong>Plugin tools</strong> — external plugins can register additional tools that are subject to the same policy system</li>
          <li><strong>Per-channel tool visibility</strong> — some tools may only be available on certain channels</li>
        </ul>

        <h2>How It Works in Code</h2>

        <p>Tool implementations are distributed across several modules in <code>src/agents/</code>:</p>

        <ul>
          <li><code>bash-tools.exec.ts</code> — the exec tool: command execution with approval, sandboxing, and output management</li>
          <li><code>bash-tools.process.ts</code> — the process tool: background process management (list, poll, write, send-keys, kill)</li>
          <li><code>pi-tools.read.ts</code> — file operation tools (read, write, edit) with sandboxing support</li>
          <li><code>channel-tools.ts</code> — messaging and channel management tools</li>
          <li><code>openclaw-tools.ts</code> — session management, subagent spawning, and Gateway tools</li>
          <li><code>tools/</code> — additional tool implementations (nodes, browser delegation, etc.)</li>
        </ul>

        <p>The browser automation system lives in <code>src/browser/</code> with its own server, Playwright session management, CDP integration, and Chrome extension relay.</p>

        <p>Tool schemas and policy filtering are handled by <code>pi-tools.ts</code> (catalog construction), <code>pi-tools.schema.ts</code> (schema normalization for different LLM providers), and <code>tool-policy.ts</code> (allowlist/blocklist resolution).</p>

        <div class="callout tip">
          <div class="callout-title">Everything Is a Tool</div>
          <p>One of OpenClaw's key design decisions is that nearly every capability is exposed as a tool. The LLM doesn't have special built-in abilities — it can only reason about text and request tool calls. This uniformity means adding new capabilities is straightforward: implement a tool function, define its schema, register it in the catalog, and the agent can immediately use it. The same mechanism that lets an agent read a file also lets it send a Discord message, snap a photo on your phone, or spawn a subagent to handle a complex task.</p>
        </div>

        <div class="action-section">
          <h2>Next</h2>
          <ul>
            <li><a href="/architecture">Architecture Overview</a> — see how all five components connect</li>
            <li><a href="/architecture/agent-runner">Agent Runner</a> — what decides which tools to call</li>
            <li><a href="/architecture/channel-adapters">Channel Adapters</a> — start from the beginning of the pipeline</li>
          </ul>
        </div></div><!--$--><!--/$--></div></main></div><script src="/_next/static/chunks/webpack-d282787ed3063711.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[9766,[],\"\"]\n3:I[8924,[],\"\"]\n4:I[3370,[\"7340\",\"static/chunks/app/(authenticated)/layout-8a56e70ab4050a46.js\"],\"default\"]\n8:I[7150,[],\"\"]\n:HL[\"/_next/static/css/56998b7e09014914.css\",\"style\"]\n5:T2909,"])</script><script>self.__next_f.push([1,"\u003cdiv class=\"breadcrumbs\"\u003e\n          \u003ca href=\"/\"\u003eHome\u003c/a\u003e\n          \u003cspan class=\"separator\"\u003e/\u003c/span\u003e\n          \u003ca href=\"/architecture\"\u003eArchitecture\u003c/a\u003e\n          \u003cspan class=\"separator\"\u003e/\u003c/span\u003e\n          Execution Layer\n        \u003c/div\u003e\n\n        \u003ch1\u003eExecution Layer\u003c/h1\u003e\n\n        \u003cp\u003eThe Execution Layer is where intentions become actions. When the Agent Runner's LLM decides to read a file, run a command, search the web, or click a button in a browser, the Execution Layer is what actually carries out that operation. It provides a controlled, sandboxed environment for tool execution and returns structured results back to the Agent Runner for the next reasoning step.\u003c/p\u003e\n\n        \u003cp\u003eThe Execution Layer is not a single module — it is a collection of tool implementations that share common patterns: input validation, environment control, output capture, error handling, and security gating.\u003c/p\u003e\n\n        \u003ch2\u003eTool Categories\u003c/h2\u003e\n\n        \u003cp\u003eOpenClaw's tools fall into several categories, each with its own execution characteristics:\u003c/p\u003e\n\n        \u003ch3\u003eFile Operations\u003c/h3\u003e\n\n        \u003cp\u003eThe core coding tools that let agents read, write, and edit files:\u003c/p\u003e\n\n        \u003cul\u003e\n          \u003cli\u003e\u003cstrong\u003eread\u003c/strong\u003e — read file contents with offset/limit support for large files; handles both text files and images (images are sent as attachments to the LLM)\u003c/li\u003e\n          \u003cli\u003e\u003cstrong\u003ewrite\u003c/strong\u003e — create or overwrite files, automatically creating parent directories\u003c/li\u003e\n          \u003cli\u003e\u003cstrong\u003eedit\u003c/strong\u003e — surgical text replacement: find an exact string in a file and replace it with new text\u003c/li\u003e\n        \u003c/ul\u003e\n\n        \u003cp\u003eFile tools are sandboxed to the agent's workspace directory. Path traversal outside the workspace is blocked. Read operations support pagination for large files — the agent can read a file in chunks rather than loading the entire thing into context.\u003c/p\u003e\n\n        \u003ch3\u003eShell Execution\u003c/h3\u003e\n\n        \u003cp\u003eThe \u003ccode\u003eexec\u003c/code\u003e tool runs shell commands and the \u003ccode\u003eprocess\u003c/code\u003e tool manages long-running processes:\u003c/p\u003e\n\n        \u003cul\u003e\n          \u003cli\u003e\u003cstrong\u003eexec\u003c/strong\u003e — execute a shell command with configurable timeout, working directory, environment variables, and background mode. Supports PTY mode for interactive terminal applications.\u003c/li\u003e\n          \u003cli\u003e\u003cstrong\u003eprocess\u003c/strong\u003e — manage background processes: list active sessions, poll for output, write stdin, send keystrokes, kill processes. Essential for long-running development servers, test suites, and interactive CLIs.\u003c/li\u003e\n        \u003c/ul\u003e\n\n        \u003cp\u003eShell execution includes several safety mechanisms:\u003c/p\u003e\n\n        \u003cul\u003e\n          \u003cli\u003e\u003cstrong\u003eSecurity modes\u003c/strong\u003e — \u003ccode\u003edeny\u003c/code\u003e (no exec), \u003ccode\u003eallowlist\u003c/code\u003e (only pre-approved commands), or \u003ccode\u003efull\u003c/code\u003e (unrestricted)\u003c/li\u003e\n          \u003cli\u003e\u003cstrong\u003eExec approval\u003c/strong\u003e — commands can require human approval before execution, with a configurable timeout\u003c/li\u003e\n          \u003cli\u003e\u003cstrong\u003eAsk mode\u003c/strong\u003e — the agent can be configured to ask the user before running potentially destructive commands\u003c/li\u003e\n          \u003cli\u003e\u003cstrong\u003ePath sanitization\u003c/strong\u003e — PATH is controlled and safe binaries are resolved explicitly\u003c/li\u003e\n          \u003cli\u003e\u003cstrong\u003eOutput truncation\u003c/strong\u003e — command output is truncated to a configurable maximum to prevent context overflow\u003c/li\u003e\n          \u003cli\u003e\u003cstrong\u003eTimeout enforcement\u003c/strong\u003e — commands are killed after their timeout expires\u003c/li\u003e\n        \u003c/ul\u003e\n\n        \u003ch3\u003eBrowser Automation\u003c/h3\u003e\n\n        \u003cp\u003eThe browser tool provides full web automation capabilities via Playwright:\u003c/p\u003e\n\n        \u003cul\u003e\n          \u003cli\u003e\u003cstrong\u003eNavigation\u003c/strong\u003e — open URLs, navigate between pages\u003c/li\u003e\n          \u003cli\u003e\u003cstrong\u003eSnapshots\u003c/strong\u003e — capture the accessibility tree (structured page content) for the LLM to reason about\u003c/li\u003e\n          \u003cli\u003e\u003cstrong\u003eScreenshots\u003c/strong\u003e — capture visual screenshots when the accessibility tree is insufficient\u003c/li\u003e\n          \u003cli\u003e\u003cstrong\u003eActions\u003c/strong\u003e — click elements, type text, press keys, hover, drag, select options, fill forms\u003c/li\u003e\n          \u003cli\u003e\u003cstrong\u003eTabs\u003c/strong\u003e — open, close, switch between, and list browser tabs\u003c/li\u003e\n          \u003cli\u003e\u003cstrong\u003ePDF generation\u003c/strong\u003e — convert pages to PDF\u003c/li\u003e\n          \u003cli\u003e\u003cstrong\u003eConsole access\u003c/strong\u003e — read browser console output for debugging\u003c/li\u003e\n        \u003c/ul\u003e\n\n        \u003cp\u003eThe browser can run in multiple profiles — an isolated OpenClaw-managed browser, or via Chrome Extension relay that connects to the user's existing Chrome tabs. Browser sessions persist across tool calls within a run, so the agent can navigate, interact, and observe across multiple steps.\u003c/p\u003e\n\n        \u003ch3\u003eWeb Operations\u003c/h3\u003e\n\n        \u003cul\u003e\n          \u003cli\u003e\u003cstrong\u003eweb_search\u003c/strong\u003e — search the web using Brave Search API, returning titles, URLs, and snippets\u003c/li\u003e\n          \u003cli\u003e\u003cstrong\u003eweb_fetch\u003c/strong\u003e — fetch and extract readable content from a URL, converting HTML to markdown\u003c/li\u003e\n        \u003c/ul\u003e\n\n        \u003ch3\u003eMessaging \u0026amp; Channel Tools\u003c/h3\u003e\n\n        \u003cul\u003e\n          \u003cli\u003e\u003cstrong\u003emessage\u003c/strong\u003e — send messages, manage channels, create threads, upload emoji, manage polls, and perform other channel operations on the current platform\u003c/li\u003e\n          \u003cli\u003e\u003cstrong\u003etts\u003c/strong\u003e — convert text to speech for voice message delivery\u003c/li\u003e\n        \u003c/ul\u003e\n\n        \u003ch3\u003eSystem \u0026amp; Agent Tools\u003c/h3\u003e\n\n        \u003cul\u003e\n          \u003cli\u003e\u003cstrong\u003eOpenClaw tools\u003c/strong\u003e — session management, subagent spawning, agent coordination, Gateway control\u003c/li\u003e\n          \u003cli\u003e\u003cstrong\u003eNode tools\u003c/strong\u003e — interact with paired mobile devices: camera, location, notifications, screen recording\u003c/li\u003e\n          \u003cli\u003e\u003cstrong\u003eCanvas tools\u003c/strong\u003e — present visual content to users via rendered HTML/React canvases\u003c/li\u003e\n          \u003cli\u003e\u003cstrong\u003eMemory tools\u003c/strong\u003e — \u003ccode\u003ememory_search\u003c/code\u003e and \u003ccode\u003ememory_get\u003c/code\u003e for semantic search and retrieval from the agent's long-term memory files. Powered by \u003ccode\u003eembeddinggemma-300m-qat-Q8_0\u003c/code\u003e with per-agent SQLite indexes, auto-reindexed every 6 hours via cron.\u003c/li\u003e\n          \u003cli\u003e\u003cstrong\u003eImage analysis\u003c/strong\u003e — analyze images using a vision model\u003c/li\u003e\n        \u003c/ul\u003e\n\n        \u003ch2\u003eSandbox Architecture\u003c/h2\u003e\n\n        \u003cp\u003eFor enhanced isolation, OpenClaw supports running tool execution inside Docker containers (sandboxes). The sandbox system provides:\u003c/p\u003e\n\n        \u003cul\u003e\n          \u003cli\u003e\u003cstrong\u003eWorkspace mounting\u003c/strong\u003e — the agent's workspace directory is mounted into the container, so file operations work as expected\u003c/li\u003e\n          \u003cli\u003e\u003cstrong\u003eNetwork isolation\u003c/strong\u003e — sandboxed commands can be restricted from network access\u003c/li\u003e\n          \u003cli\u003e\u003cstrong\u003eResource limits\u003c/strong\u003e — CPU, memory, and disk usage can be constrained\u003c/li\u003e\n          \u003cli\u003e\u003cstrong\u003eDisposability\u003c/strong\u003e — containers can be pruned and recreated without affecting the host system\u003c/li\u003e\n          \u003cli\u003e\u003cstrong\u003eBrowser sandboxing\u003c/strong\u003e — browser automation can run in a separate container with its own display server\u003c/li\u003e\n        \u003c/ul\u003e\n\n        \u003cp\u003eSandbox configuration is per-agent: one agent might run fully sandboxed while another runs directly on the host, depending on the trust level and use case.\u003c/p\u003e\n\n        \u003ch2 id=\"tool-policy\"\u003eTool Policy \u0026amp; Filtering\u003c/h2\u003e\n\n        \u003cp\u003eNot every tool is available to every agent in every context. The Execution Layer applies policy-based filtering:\u003c/p\u003e\n\n        \u003cul\u003e\n          \u003cli\u003e\u003cstrong\u003eTool allowlists\u003c/strong\u003e — agents can be restricted to a specific set of tools\u003c/li\u003e\n          \u003cli\u003e\u003cstrong\u003eOwner-only tools\u003c/strong\u003e — certain tools (like Gateway management) are restricted to the system owner\u003c/li\u003e\n          \u003cli\u003e\u003cstrong\u003eSubagent policies\u003c/strong\u003e — spawned subagents can inherit or override the parent's tool policy\u003c/li\u003e\n          \u003cli\u003e\u003cstrong\u003ePlugin tools\u003c/strong\u003e — external plugins can register additional tools that are subject to the same policy system\u003c/li\u003e\n          \u003cli\u003e\u003cstrong\u003ePer-channel tool visibility\u003c/strong\u003e — some tools may only be available on certain channels\u003c/li\u003e\n        \u003c/ul\u003e\n\n        \u003ch2\u003eHow It Works in Code\u003c/h2\u003e\n\n        \u003cp\u003eTool implementations are distributed across several modules in \u003ccode\u003esrc/agents/\u003c/code\u003e:\u003c/p\u003e\n\n        \u003cul\u003e\n          \u003cli\u003e\u003ccode\u003ebash-tools.exec.ts\u003c/code\u003e — the exec tool: command execution with approval, sandboxing, and output management\u003c/li\u003e\n          \u003cli\u003e\u003ccode\u003ebash-tools.process.ts\u003c/code\u003e — the process tool: background process management (list, poll, write, send-keys, kill)\u003c/li\u003e\n          \u003cli\u003e\u003ccode\u003epi-tools.read.ts\u003c/code\u003e — file operation tools (read, write, edit) with sandboxing support\u003c/li\u003e\n          \u003cli\u003e\u003ccode\u003echannel-tools.ts\u003c/code\u003e — messaging and channel management tools\u003c/li\u003e\n          \u003cli\u003e\u003ccode\u003eopenclaw-tools.ts\u003c/code\u003e — session management, subagent spawning, and Gateway tools\u003c/li\u003e\n          \u003cli\u003e\u003ccode\u003etools/\u003c/code\u003e — additional tool implementations (nodes, browser delegation, etc.)\u003c/li\u003e\n        \u003c/ul\u003e\n\n        \u003cp\u003eThe browser automation system lives in \u003ccode\u003esrc/browser/\u003c/code\u003e with its own server, Playwright session management, CDP integration, and Chrome extension relay.\u003c/p\u003e\n\n        \u003cp\u003eTool schemas and policy filtering are handled by \u003ccode\u003epi-tools.ts\u003c/code\u003e (catalog construction), \u003ccode\u003epi-tools.schema.ts\u003c/code\u003e (schema normalization for different LLM providers), and \u003ccode\u003etool-policy.ts\u003c/code\u003e (allowlist/blocklist resolution).\u003c/p\u003e\n\n        \u003cdiv class=\"callout tip\"\u003e\n          \u003cdiv class=\"callout-title\"\u003eEverything Is a Tool\u003c/div\u003e\n          \u003cp\u003eOne of OpenClaw's key design decisions is that nearly every capability is exposed as a tool. The LLM doesn't have special built-in abilities — it can only reason about text and request tool calls. This uniformity means adding new capabilities is straightforward: implement a tool function, define its schema, register it in the catalog, and the agent can immediately use it. The same mechanism that lets an agent read a file also lets it send a Discord message, snap a photo on your phone, or spawn a subagent to handle a complex task.\u003c/p\u003e\n        \u003c/div\u003e\n\n        \u003cdiv class=\"action-section\"\u003e\n          \u003ch2\u003eNext\u003c/h2\u003e\n          \u003cul\u003e\n            \u003cli\u003e\u003ca href=\"/architecture\"\u003eArchitecture Overview\u003c/a\u003e — see how all five components connect\u003c/li\u003e\n            \u003cli\u003e\u003ca href=\"/architecture/agent-runner\"\u003eAgent Runner\u003c/a\u003e — what decides which tools to call\u003c/li\u003e\n            \u003cli\u003e\u003ca href=\"/architecture/channel-adapters\"\u003eChannel Adapters\u003c/a\u003e — start from the beginning of the pipeline\u003c/li\u003e\n          \u003c/ul\u003e\n        \u003c/div\u003e"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"VA-lAVEn1LekIejhMlH5y\",\"p\":\"\",\"c\":[\"\",\"architecture\",\"execution-layer\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"(authenticated)\",{\"children\":[\"architecture\",{\"children\":[\"execution-layer\",{\"children\":[\"__PAGE__\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/56998b7e09014914.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}],{\"children\":[\"(authenticated)\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"body\",null,{\"children\":[[\"$\",\"input\",null,{\"type\":\"checkbox\",\"id\":\"menu-toggle\",\"className\":\"menu-toggle\"}],[\"$\",\"label\",null,{\"htmlFor\":\"menu-toggle\",\"className\":\"hamburger\",\"aria-label\":\"Toggle navigation\",\"children\":\"☰\"}],[\"$\",\"label\",null,{\"htmlFor\":\"menu-toggle\",\"className\":\"overlay\"}],[\"$\",\"div\",null,{\"className\":\"site-wrapper\",\"children\":[[\"$\",\"$L4\",null,{}],[\"$\",\"main\",null,{\"className\":\"main-content\",\"children\":[\"$\",\"div\",null,{\"className\":\"content-wrapper\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":\"$0:f:0:1:1:props:children:1:props:children:props:notFound:0:1:props:style\",\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":\"$0:f:0:1:1:props:children:1:props:children:props:notFound:0:1:props:children:props:children:1:props:style\",\"children\":404}],[\"$\",\"div\",null,{\"style\":\"$0:f:0:1:1:props:children:1:props:children:props:notFound:0:1:props:children:props:children:2:props:style\",\"children\":[\"$\",\"h2\",null,{\"style\":\"$0:f:0:1:1:props:children:1:props:children:props:notFound:0:1:props:children:props:children:2:props:children:props:style\",\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}]]}]]}],{\"children\":[\"architecture\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"execution-layer\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$5\"}}],null,\"$L6\"]}],{},null,false]},null,false]},null,false]},null,false]},null,false],\"$L7\",false]],\"m\":\"$undefined\",\"G\":[\"$8\",[]],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"9:I[4431,[],\"OutletBoundary\"]\nb:I[5278,[],\"AsyncMetadataOutlet\"]\nd:I[4431,[],\"ViewportBoundary\"]\nf:I[4431,[],\"MetadataBoundary\"]\n10:\"$Sreact.suspense\"\n6:[\"$\",\"$L9\",null,{\"children\":[\"$La\",[\"$\",\"$Lb\",null,{\"promise\":\"$@c\"}]]}]\n7:[\"$\",\"$1\",\"h\",{\"children\":[null,[[\"$\",\"$Ld\",null,{\"children\":\"$Le\"}],null],[\"$\",\"$Lf\",null,{\"children\":[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$10\",null,{\"fallback\":null,\"children\":\"$L11\"}]}]}]]}]\n"])</script><script>self.__next_f.push([1,"e:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\na:null\n"])</script><script>self.__next_f.push([1,"c:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"Execution Layer — OpenClaw Architecture\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Your personal AI agent team, working together to keep your life organized.\"}]],\"error\":null,\"digest\":\"$undefined\"}\n"])</script><script>self.__next_f.push([1,"11:\"$c:metadata\"\n"])</script></body></html>